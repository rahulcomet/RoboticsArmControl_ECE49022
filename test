import time
import board
import pmwio

import RPi.GPIO as GPIO

from adafruit_motor import servo

from gpiozero import AngularServo

from adafruit_servokit import ServoKit

kit = ServoKit(channels = 16)

PIN = 17
#GPIO.setmode(GPIO.BCM)       
#GPIO.setup(PIN, GPIO.OUTPUT)       

def test_func1(angle):
    kit.servo[0].angle = angle

def test_func2():
    p = GPIO.PWM(PIN, 50)
    p.start(2.5)
try:
  while True:
    p.ChangeDutyCycle(5)
    time.sleep(0.5)
    p.ChangeDutyCycle(7.5)
    time.sleep(0.5)
    p.ChangeDutyCycle(10)
    time.sleep(0.5)
    p.ChangeDutyCycle(12.5)
    time.sleep(0.5)
    p.ChangeDutyCycle(10)
    time.sleep(0.5)
    p.ChangeDutyCycle(7.5)
    time.sleep(0.5)
    p.ChangeDutyCycle(5)
    time.sleep(0.5)
    p.ChangeDutyCycle(2.5)
    time.sleep(0.5)
except KeyboardInterrupt:
  p.stop()
  GPIO.cleanup()

def test_func3():
    servo = AngularServo(PIN, min_pulse_width=0.0005, max_pulse_width=0.0025)
    try:
        while (True):
            servo.angle = 90
            sleep(2)
            servo.angle = 0
            sleep(2)
            servo.angle = -90
            sleep(2)
    except KeyboardInterrupt:
        GPIO.cleanup()

#test_func1(90)
#test_func2()
#test_func3()
